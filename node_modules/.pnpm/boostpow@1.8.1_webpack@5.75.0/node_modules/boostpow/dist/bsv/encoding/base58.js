"use strict";var _=require("../util/_"),bs58=require("bs58"),buffer=require("buffer"),ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz".split(""),Base58=function e(r){if(!(this instanceof e))return new e(r);if(Buffer.isBuffer(r)){var t=r;this.fromBuffer(t)}else if("string"==typeof r){var f=r;this.fromString(f)}};Base58.validCharacters=function(e){return buffer.Buffer.isBuffer(e)&&(e=e.toString()),_.every(_.map(e,(function(e){return _.includes(ALPHABET,e)})))},Base58.prototype.set=function(e){return this.buf=e.buf||this.buf||void 0,this},Base58.encode=function(e){if(!buffer.Buffer.isBuffer(e))throw new Error("Input should be a buffer");return bs58.encode(e)},Base58.decode=function(e){if("string"!=typeof e)throw new Error("Input should be a string");return Buffer.from(bs58.decode(e))},Base58.prototype.fromBuffer=function(e){return this.buf=e,this},Base58.fromBuffer=function(e){return(new Base58).fromBuffer(e)},Base58.fromHex=function(e){return Base58.fromBuffer(Buffer.from(e,"hex"))},Base58.prototype.fromString=function(e){var r=Base58.decode(e);return this.buf=r,this},Base58.fromString=function(e){return(new Base58).fromString(e)},Base58.prototype.toBuffer=function(){return this.buf},Base58.prototype.toHex=function(){return this.toBuffer().toString("hex")},Base58.prototype.toString=function(){return Base58.encode(this.buf)},module.exports=Base58;